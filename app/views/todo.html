<h1>Todo Pouch</h1>
<span>{{remaining()}} of {{todos.length}} remaining</span>
<md-button class="button" ng-click="removeDone()">Remove done</md-button>

<md-content layout-padding>

	<form ng-submit="addTodo()">
		<!--Form containing todo and prioty spec-->
		<div layout-gt-sm="row">
			<md-input-container>
				<input type="text" ng-model="todoText" size="30" placeholder="add new todo here">
			</md-input-container>

			<md-input-container>
				<md-select ng-model="todoPriority">
					<!--I used ng preate with options tag, because there is a buy in the ng-options directive which makes  -->
					<!--retriving information difficult (upon retrivel angular adds $$hash to the object)  -->
					<md-option value="" selected disabled>Please select a priority...</md-option>
					<md-option ng-repeat="option in priorityOptions">{{option.value}}</md-option>
				</md-select>
			</md-input-container>

			<div layout-gt-sm="row" ng-show="showAdv">
				<md-input-container>
					<input type="number" min="0" max="12" style="width: 5em" ng-model="percievedChallenge" placeholder="Percieved Challenge (0-12)">
				</md-input-container>

				<md-input-container>
					<input type="number" min="0" max="12" style="width: 6em" ng-model="percievedAbility" placeholder="Percieved Ability (0-12)">
				</md-input-container>
			</div>

				<md-input-container>
					<md-button ng-click="showAdv = !showAdv">Advanced</md-button>
				</md-input-container>

			<md-input-container>
				<md-button type="submit" ng-click="showAdv = false" >Add Task</md-button>
			</md-input-container>
		</div>
	</form>

</md-content>
<!--Filter box-->
<md-input-container>
	<md-select ng-model="filterPriority">
		<!--I used ng preate with options tag, because there is a buy in the ng-options directive which makes  -->
		<!--retriving information difficult (upon retrivel angular adds $$hash to the object)  -->
		<md-option value=''>All</md-option>
		<md-option ng-repeat="option in priorityOptions" value="{{option.value}}">{{option.value}}</md-option>
	</md-select>
</md-input-container>

<md-card ng-repeat="todo in todos  | filter:{priority:filterPriority}">
	<!--Displays a todo as a card-->
	<md-card-title>
		<md-checkbox class="md-headline" ng-model="todo.done" ng-click="updateTodo(todo)">{{todo.text}}</md-checkbox>
	</md-card-title>
	<md-card-content ng-show="open">
		<p>Priority: {{todo.priority}}</p>
		<p>Done: {{todo.done}}</p>
		<p>Percieved Challenge: {{todo.pChallenge}}</p>
		<p>Percieved Ability: {{todo.pAbility}}</p>
		<p>Task State: {{todo.taskState}}</p>
	</md-card-content>
	<md-card-actions layout="row" layout-align="end center">
		<md-button ng-click="open = !open">Details</md-button>
		<md-button ng-click="remove(todo)">Delete</md-button>
	</md-card-actions>
</md-card>
